(()=>{"use strict";function t(t,e){localStorage.setItem(t,JSON.stringify(e))}function e(t){return JSON.parse(localStorage.getItem(t)??"[]")}function n(t){t.innerHTML="";const n=e("tasks");if(n.length>0)n.forEach((({id:e,text:n,data:a,isCompleted:s})=>{const c=function(t,e,n,a){const s=document.createElement("div");s.className="task-card",s.id=t;const c=document.createElement("div");c.className="task-text-wrapper";const o=document.createElement("input");o.type="checkbox",o.id=`task${t}`,o.className="checked-task",o.checked=a,o.name=`task${t}`;const l=document.createElement("span");l.className="check-style";const r=document.createElement("label");r.className="task-label",r.htmlFor=`task${t}`,r.textContent=e,c.append(o,l,r);const i=document.createElement("button");i.className="delete-card__button",i.type="button";const d=document.createElement("span");d.className="delete-icon",d.innerHTML="&times",i.appendChild(d);const m=document.createElement("span");return m.className="creation-task-date",m.textContent=n,s.append(c,i,m),s}(e,n,a,s);t.append(c)}));else{const e=function(){const t=document.createElement("h3");return t.className="no-plans",t.textContent="You don`t have tasks",t}();t.append(e)}}function a(n){const a=e("tasks");a.push(function(t){return{id:Date.now().toString(),text:t,data:(new Date).toLocaleDateString(),isCompleted:!1}}(n)),t("tasks",a)}function s(t,s){t.preventDefault();const{target:c}=t,o=c.taskName;var l;(l=o.value,e("tasks").some((({text:t})=>t===l))?(alert("this case already exists!"),!1):!!l.trim()||(alert("field cannot be empty!"),!1))&&(a(o.value),n(s),function(t){t.value=""}(o),function(t){t.scrollTo({left:0,top:t.scrollHeight-t.clientHeight,behavior:"smooth"})}(s))}function c(a,s){const{target:c}=a,o=c.closest("div");var l;c.classList.contains("delete-icon")&&confirm("delete task?")&&(l=o.id,t("tasks",e("tasks").filter((t=>t.id!==l))),n(s))}function o(n){const{target:a}=n;!function(n,a){t("tasks",e("tasks").map((t=>t.id===n?(t.isCompleted=a,t):t)))}(a.closest(".task-card").id,a.checked)}function l(a){!function(){const n=e("tasks");n.length>0&&confirm("delete all task?")?(n.length=0,t("tasks",n)):alert("you have no tasks!")}(),n(a)}!function(){const t=document.querySelector("#root"),e=document.createElement("main");e.className="container";const a=document.createElement("div");a.className="tasks-list";const r=function(){const t=document.createElement("div");t.className="create-task-block-wrapper";const e=document.createElement("form");e.className="create-task-block",e.noValidate=!0;const n=document.createElement("button");n.className="delete-all-tasks__button",n.type="button",n.textContent="delete all";const a=document.createElement("input");a.className="add-tasks__input",a.name="taskName",a.type="text",a.placeholder="task...",a.value="",a.autofocus=!0;const s=document.createElement("button");return s.className="add-tasks__button",s.type="submit",s.textContent="new",e.append(n,a,s),t.append(e),t}(),i=r.querySelector(".delete-all-tasks__button"),d=function(){const t=document.createElement("button");return t.type="button",t.className="top-button",t.innerHTML="&#8593",t}();t.append(e),e.prepend(r),e.append(a,d),r.addEventListener("submit",(t=>s(t,a))),a.addEventListener("input",o),a.addEventListener("click",(t=>c(t,a))),i.addEventListener("click",(()=>l(a))),a.addEventListener("scroll",(t=>function(t,e){t.currentTarget.scrollTop>100?e.classList.add("active"):e.classList.remove("active")}(t,d))),d.addEventListener("click",(()=>{a.scrollTo({left:0,top:0,behavior:"smooth"})})),n(a)}()})();